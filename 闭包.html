<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<script type="text/javascript">
	window.addEventListener('error', function(e) {
	  console.log(e);
	});
</script>
<body>

</body>

</html>
<script type="text/javascript" src=""></script>
<script type="text/javascript">
	
// 单例模式

class CreateUser {
  constructor(name) {
    this.name = name;
    this.getName();
  }
  getName() {
    return this.name;
  }
}
// 代理实现单例模式
var ProxyMode = (function() {
  var instance = null;
  return function(name) {
    if (!instance) {
      instance = new CreateUser(name);
    }
    return instance;
  };
})();

// 测试单体模式的实例
var a = ProxyMode('aaa');
var b = ProxyMode('bbb');
// 因为单体模式是只实例化一次，所以下面的实例是相等的
console.log(a === b); // true

class CreateUser2 {
  constructor(name) {
    this.name = name;
    this.getName();
  }
  getName() {
    return this.name;
  }
}
// 代理实现单例模式
var instance = null;
var ProxyMode2 = (function() {
  return function(name) {
    if (!instance) {
      instance = new CreateUser2(name);
    }
    return instance;
  };
})();

// 测试单体模式的实例
var a = ProxyMode2('aaa');
var b = ProxyMode2('bbb');
// 因为单体模式是只实例化一次，所以下面的实例是相等的
console.log(a === b); // true

	function fn1(x) {
	  return function(y) {
	    console.log(y + (x++));
	  };
	}

	var f1 = fn1(10);
	var f2 = f1(10);

	for (var i = 0; i < 10; i++) {
	  setTimeout(function() {
	    console.log(t);
	  }, 10);
	}

	for (var i = 0; i < 10; i++) {
	  let t = i;
	  setTimeout(function() {
	    console.log(t);
	  }, 10);
	}

	for (var i = 0; i < 10; i++) {
	  const t = i;
	  setTimeout(function() {
	    console.log(t);
	  }, 10);
	}
	// for(const i=0;i<10;i++){
	
	// 	setTimeout(function() {
	// 				console.log(i)
	// 			}, 10);
	// }
  /*******************************/
	for (var i = 0; i < 10; i++) {
	  (function(j) {
	    setTimeout(function() {
	      console.log(j);
	    }, 10);
	  })(i);
	}

	var output = function(i) {
	  setTimeout(function() {
	    console.log(i);
	  }, 10);
	};

	for (var i = 0; i < 10; i++) {
	  output(i);
	}

	var t = 3;
	function anzhi(arg) {
	  console.log(++arg);
	}
	anzhi(t);
	console.log(t);
//

	// var tast =[]
	// for(let l=0;l<10;l++){
	// 	tast.push(
	// 		new Promise(function(reslove,reject){
	// 			setTimeout(function() {
	// 				reslove(l)
	// 				console.log(l)
	// 			}, 500*l);
	// 		})
	// 	)
	// }

	// Promise.all(tast).then((result)=>{
	// 		console.log(result)
	// })

// function sleep(l) {
// 	return new Promise((reslove, reject) => {
// 	    setTimeout(() => {
// 	      reslove();
// 	      console.error(l);
// 	    }, 500);
// 	});
// }

// (async() => {
// 	  for (let l = 0; l < 10; l++) {
// 	    await sleep(l);
// 	  }
// })();
</script>
